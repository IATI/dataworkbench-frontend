{"version":3,"sources":["./src/app/organisation/document-list/document-list.component.html","./src/app/organisation/document-list/document-list.component.ts","./src/app/organisation/document-list-item/document-list-item.component.html","./src/app/organisation/document-list-item/document-list-item.component.ts","./src/app/organisation/organisation.module.ts","./src/app/organisation/organisation/organisation.component.html","./src/app/organisation/organisation/organisation.component.ts"],"names":[],"mappings":"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","file":"organisation-organisation-module-es2015.js","sourcesContent":["<div *ngIf=\"documents === undefined\">\n    <p>No files found.</p>\n  </div>\n  \n  <div *ngIf=\"documents !== undefined\" class=\"result-validation-table\">\n    <div class=\"documents\">\n      <div class=\"row heading\">\n        <div class=\"col-12 col-md\">\n          File name\n        </div>\n        <div class=\"col-12 col-md d-none d-md-block\">\n          Identified in Registry\n        </div>\n        <div class=\"col-12 col-md d-none d-md-block\">\n          Downloaded\n        </div>\n        <div class=\"col-12 col-md d-none d-md-block\">\n          Validated\n        </div>\n        <div class=\"col-12 col-md d-none d-md-block\">\n          Entered in Datastore\n        </div>\n      </div>\n      <app-document-list-item *ngFor=\"let document of documents\" [document]=\"document\"></app-document-list-item>\n    </div>\n  \n  </div>","import { Component, OnInit, Input } from '@angular/core';\nimport { Document } from '../../shared/document';\n\n@Component({\n  selector: 'app-document-list',\n  templateUrl: './document-list.component.html',\n  styleUrls: ['./document-list.component.scss']\n})\nexport class DocumentListComponent implements OnInit {\n  @Input()\n  documents!: Document[];\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div *ngIf=\"document\" class=\"wrapper\">\n  <div\n    class=\"row\"\n    (click)=\"rowClick()\"\n    [ngClass]=\"{'file-valid': isValid() === true, \n                'file-invalid': isValid() === false,\n                'no-validation': isValid() === null}\"\n  >\n    <div class=\"col-12 col-md\">\n      {{ fileName() }}\n    </div>\n    <div class=\"col-12 col-md\">\n      <span *ngIf=\"document.first_seen\">{{\n        document.first_seen | date: \"yyyy-MM-dd HH:mm (z)\"\n      }}</span>\n    </div>\n    <div class=\"col-12 col-md\">\n      <span *ngIf=\"document.downloaded\">{{\n        document.downloaded | date: \"yyyy-MM-dd HH:mm (z)\"\n      }}</span>\n    </div>\n    <div class=\"col-12 col-md\">\n      <span *ngIf=\"document.validation_created\">\n        {{\n          (document ? document.validation_created : \"\")\n            | date: \"yyyy-MM-dd HH:mm (z)\"\n        }}\n      </span>\n    </div>\n    <div class=\"col-12 col-md\">\n      Datastore Entered Date\n    </div>\n    <div class=\"col-12 d-md-none\"><hr /></div>\n  </div>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Document } from 'src/app/shared/document';\n\n@Component({\n  selector: 'app-document-list-item',\n  templateUrl: './document-list-item.component.html',\n  styleUrls: ['./document-list-item.component.scss']\n})\nexport class DocumentListItemComponent implements OnInit {\n  @Input()\n  document!: Document;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n  fileName(): string {\n    if ('url' in this.document) {\n      return this.document.url.split('/').pop();\n    } else {\n      return 'No filename available';\n    }\n  }\n\n  hasValidation(): boolean {\n    if (this.document.validation) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isValid(): boolean {\n    if (this.document.validation && this.document.valid) {\n      return true;\n    } else if (this.document.validation && (this.document.valid === false)) {\n      return false;\n    } else {\n      return null;\n    }\n  }\n\n  reportType(): string {\n    if (this.hasValidation()) {\n      return 'File Validation report (click to view)';\n    } else {\n      return '-';\n    }\n  }\n\n  rowClick() {\n    if (this.hasValidation()) {\n      // this.router.navigate(['view', 'dqf', 'files', this.iatiDatasetData.id]);\n      console.log('Validation Report Link Clicked', this.document.id);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrganisationComponent } from './organisation/organisation.component';\nimport { OrganisationService } from './shared/organisation.service';\nimport { OrganisationsService } from '../organisations/shared/organisations.service';\nimport { DocumentListComponent } from './document-list/document-list.component';\nimport { DocumentListItemComponent } from './document-list-item/document-list-item.component';\n\nconst routes: Routes = [\n  { path: '', component: OrganisationComponent },\n  { path: ':name', component: OrganisationComponent },\n  { path: '', redirectTo: '/404dqf', pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FormsModule,\n  ],\n  exports: [\n    RouterModule\n  ],\n  providers: [\n    OrganisationService,\n    OrganisationsService\n  ],\n  declarations: [\n    OrganisationComponent,\n    DocumentListComponent,\n    DocumentListItemComponent\n  ]\n})\nexport class OrganisationModule { }\n","<div class=\"container\">\n  <div class=\"organisation-name\">\n    <h1>{{ organisationData?.title }}</h1>\n  </div>\n\n  <div class=\"row about-organisation\">\n    <div *ngIf=\"hasValidLogo()\" class=\"col-md-3 h-100\">\n      <img  [src]=\"organisationData?.image_url\" class=\"organisation-logo img-fluid\" alt=\"{{organisationData?.name}}\">\n    </div>\n    <div class=\"col\" [ngClass]=\"{'col-md-9': hasValidLogo()}\" *ngIf=\"organisationData?.description\">\n      <h3>Description</h3>\n      <p>{{ organisationData?.description }}</p>\n    </div>\n\n  </div>\n\n  <div class=\"workspaces\">\n    <div class=\"mycard\">  \n        <div class=\"mycard-title\">\n            Public data\n        </div>\n        <div class=\"mycard-body\"><p>\n            <p class=\"card-text\"><b>IATI files published in the IATI Registry</b></p>\n            <app-document-list [documents]='organisationData?.documents'></app-document-list>\n        </div>\n      </div>\n  </div>\n\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { OrganisationService } from './../shared/organisation.service';\nimport { Organisation } from '../../shared/organisation';\n\n@Component({\n  selector: 'app-organisation',\n  templateUrl: './organisation.component.html',\n  styleUrls: ['./organisation.component.scss']\n})\nexport class OrganisationComponent implements OnInit, OnDestroy {\n  organisationData: Organisation;\n  error: any;\n  name = '';\n\n  constructor(private organisationService: OrganisationService,\n    private activateRoute: ActivatedRoute) {\n    this.activateRoute\n      .params\n      .subscribe(params => {\n        this.name = params['name'];\n      });\n  }\n\n  async ngOnInit() {\n    this.loadOrganisation(this.name);\n  }\n\n  loadOrganisation(name: string) {\n    this.organisationService.getOrganisation(name)\n      .subscribe(\n        data => {\n          this.organisationData = data;\n        },\n        error => this.error = error\n      );\n  }\n\n  hasValidLogo(): boolean {\n    if (this.organisationData !== undefined) {\n      if ('image_url' in this.organisationData) {\n        return (this.organisationData.image_url !== '');\n      }\n    }\n\n    return false;\n  }\n\n  ngOnDestroy() {\n  }\n\n}\n"],"sourceRoot":"webpack:///"}