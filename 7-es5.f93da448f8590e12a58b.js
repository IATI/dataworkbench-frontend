!function(){function t(n,i){return(t=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(n,i)}function n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var o,r=e(t);if(n){var a=e(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return i(this,o)}}function i(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function a(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{V8Rk:function(i,e,r){"use strict";r.r(e),r.d(e,"OrganisationsModule",function(){return L});var s=r("ofXK"),c=r("3Pt+"),u=r("tyNb"),l=r("mrSG"),f=r("fXoL"),h=r("iSyK"),g=r("SF6U"),p=r("b6Gx"),d=r("7o/Q"),b=r("D0XW"),m=function(){function t(n,i){o(this,t),this.dueTime=n,this.scheduler=i}return a(t,[{key:"call",value:function(t,n){return n.subscribe(new v(t,this.dueTime,this.scheduler))}}]),t}(),v=function(i){!function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&t(n,i)}(r,i);var e=n(r);function r(t,n,i){var a;return o(this,r),(a=e.call(this,t)).dueTime=n,a.scheduler=i,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return a(r,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(y,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),r}(d.a);function y(t){t.debouncedNext()}var w,O,P=r("/uUt"),x=["searchInput"],C=((w=function(){function t(){o(this,t),this.search=new f.n,this.term=new c.d}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.term.valueChanges.pipe(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return function(i){return i.lift(new m(t,n))}}(300)).pipe(Object(P.a)()).subscribe(function(n){return t.searchOrganisations()})}},{key:"searchOrganisations",value:function(){this.search.emit(this.term.value)}}]),t}()).\u0275fac=function(t){return new(t||w)},w.\u0275cmp=f.Fb({type:w,selectors:[["app-organisations-search"]],viewQuery:function(t,n){var i;1&t&&f.Bc(x,1),2&t&&f.oc(i=f.bc())&&(n.searchInput=i.first)},outputs:{search:"search"},decls:6,vars:1,consts:[[1,"search-container"],[1,"organisation-search-form"],["type","text","placeholder","Organisation name","appAutofocus","",1,"search-input",3,"formControl"],["searchInput",""],[1,"btn","btn-primary","iati-button",3,"click"]],template:function(t,n){1&t&&(f.Qb(0,"div",0),f.Qb(1,"div",1),f.Mb(2,"input",2,3),f.Qb(4,"button",4),f.ac("click",function(){return n.searchOrganisations()}),f.wc(5,"Search"),f.Pb(),f.Pb(),f.Pb()),2&t&&(f.yb(2),f.ic("formControl",n.term))},directives:[c.b,c.j,c.e],styles:[".organisation-search-form[_ngcontent-%COMP%]{width:500px;display:flex;flex-flow:row wrap;justify-content:space-around}@media (max-width:600px){.organisation-search-form[_ngcontent-%COMP%]{width:auto}}.organisation-search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:350px;font-size:1.6rem;line-height:1.25;color:#464a4c;padding:.9rem 1.4rem;border:1px solid rgba(0,0,0,.14902);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (max-width:600px){.organisation-search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%}}.organisation-search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;border-radius:0!important;text-align:center}@media (max-width:600px){.organisation-search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:20px;margin-bottom:10px;padding-top:15px;padding-bottom:15px}}"]}),w),S=function(t){return["/organisation/",t]},k=((O=function(){function t(){o(this,t)}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||O)},O.\u0275cmp=f.Fb({type:O,selectors:[["app-organisations-list-item"]],inputs:{organisation:"organisation"},decls:4,vars:4,consts:[[1,"row","organisation"],[1,"col"],[3,"routerLink"]],template:function(t,n){1&t&&(f.Qb(0,"div",0),f.Qb(1,"div",1),f.Qb(2,"a",2),f.wc(3),f.Pb(),f.Pb(),f.Pb()),2&t&&(f.yb(2),f.ic("routerLink",f.lc(2,S,n.organisation.name)),f.yb(1),f.yc(" ",n.organisation.title," "))},directives:[u.f],styles:[".organisation[_ngcontent-%COMP%]{font-size:1.5em}"]}),O);function _(t,n){1&t&&f.Mb(0,"app-organisations-list-item",2),2&t&&f.ic("organisation",n.$implicit)}var I,M=((I=function(){function t(){o(this,t),this.organisations=[]}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||I)},I.\u0275cmp=f.Fb({type:I,selectors:[["app-organisations-list"]],inputs:{organisations:"organisations"},decls:4,vars:2,consts:[[1,"found-organization"],[3,"organisation",4,"ngFor","ngForOf"],[3,"organisation"]],template:function(t,n){1&t&&(f.Qb(0,"div",0),f.wc(1),f.Pb(),f.Mb(2,"hr"),f.uc(3,_,1,1,"app-organisations-list-item",1)),2&t&&(f.yb(1),f.yc("Found ",n.organisations.length," organisations."),f.yb(2),f.ic("ngForOf",n.organisations))},directives:[s.k,k],styles:[".found-organization[_ngcontent-%COMP%]{font-size:1.5em}"]}),I);function Q(t,n){1&t&&(f.Qb(0,"div",4),f.wc(1,"Searching ...."),f.Pb())}var j,T,R=[{path:"",component:(j=function(){function t(n,i,e){o(this,t),this.organisationService=n,this.logger=i,this.loader=e,this.organisations=[],this.filteredOrganisations=[],this.isSearching=!1}return a(t,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.searchOrganisation("");case 1:case"end":return t.stop()}},t,this)}))}},{key:"searchOrganisation",value:function(t){var n=this;this.isSearching=!0,this.loader.show(),this.organisations&&0!==this.organisations.length?this.filterOrganisations(t):this.organisationService.getOrganisations().subscribe(function(t){return n.organisations=t},function(t){console.log(t),n.isSearching=!1,n.loader.hide()},function(){n.filterOrganisations(t)})}},{key:"filterOrganisations",value:function(t){this.filteredOrganisations=t&&t.trim()?this.organisations.filter(function(n){return new RegExp(t,"gi").test(n.title)}).sort(function(t,n){return(t.title||"").toString().toLowerCase().localeCompare((n.title||"").toString().toLowerCase())}):this.organisations.slice(0).sort(function(t,n){return(t.title||"").toString().toLowerCase().localeCompare((n.title||"").toString().toLowerCase())}),this.isSearching=!1,this.loader.hide()}}]),t}(),j.\u0275fac=function(t){return new(t||j)(f.Lb(h.a),f.Lb(g.a),f.Lb(p.a))},j.\u0275cmp=f.Fb({type:j,selectors:[["app-organisations"]],decls:8,vars:2,consts:[[1,"container"],[3,"search"],["class","text-info",4,"ngIf"],[3,"organisations"],[1,"text-info"]],template:function(t,n){1&t&&(f.Qb(0,"div",0),f.Qb(1,"h1"),f.wc(2,"Public data viewer"),f.Pb(),f.Qb(3,"p"),f.wc(4,"Search for an organisation and access the validation results on their public IATI data. The organisation list and the public IATI data is regularly refreshed from the IATI Registry. New organisations and IATI files will not immediately be visible here, but after at most a day. "),f.Pb(),f.Qb(5,"app-organisations-search",1),f.ac("search",function(t){return n.searchOrganisation(t)}),f.Pb(),f.uc(6,Q,2,0,"div",2),f.Mb(7,"app-organisations-list",3),f.Pb()),2&t&&(f.yb(6),f.ic("ngIf",n.isSearching),f.yb(1),f.ic("organisations",n.filteredOrganisations))},directives:[C,s.l,M],styles:[""]}),j)},{path:"",redirectTo:"/404dqf",pathMatch:"full"}],L=((T=function t(){o(this,t)}).\u0275mod=f.Jb({type:T}),T.\u0275inj=f.Ib({factory:function(t){return new(t||T)},providers:[h.a],imports:[[s.b,u.g.forChild(R),c.g,c.n,u.g],u.g]}),T)}}])}();